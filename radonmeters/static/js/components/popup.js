"use strict";!function(n,t){n.fn._wait=function(t){var e=void 0,o=n(this);return new Promise(function(n,i){e=setTimeout(function(){n(o),clearTimeout(e),e=null},t)})},n.fn._measureScrollBarWidth=function(){var t=n("body");return function(){var n=document.createElement("div");n.className="modal-scrollbar-measure",t[0].append(n);var e=n.offsetWidth-n.clientWidth;return t[0].removeChild(n),e}}(),n.Rm_popup=function(t,e){var o={popup:".popup-dialog",close_btn:".close-popup",afterClose:function(){},beforeOpen:function(){},beforeClose:function(){},afterOpen:function(){}},i=this;i.settings={};var r=n(t),a=function(){var t=0;return function(e,o){t=o?0:e._measureScrollBarWidth()+"px",n("body").addClass("modal-open").css("paddingRight",t)}}(),s=function(){var t=r;t.trigger("close:rm_modal"),t.css("overflowY","hidden"),t.find(".popup-dialog").removeClass("show-dialog")._wait(500).then(function(n){return n.parents(t).removeClass("animated_in")._wait(305)}).then(function(n){return n.removeClass("show_popup_holder")}).then(function(){return t.trigger("closed:rm_modal"),t.attr("aria-hidden","true"),t.attr("aria-hidden","false"),i.settings.afterClose.apply(t,[t]),a(t,!0),n("body").removeClass("modal-open"),t})},u=function(){var n=r;n.trigger("open:rm_modal"),i.settings.beforeOpen.apply(n,[n]),a(n),n.css("overflowY","hidden"),n.addClass("show_popup_holder")._wait(50).then(function(n){return n.addClass("animated_in")._wait(305)}).then(function(n){return n.find(".popup-dialog").addClass("show-dialog")._wait(500)}).then(function(){return n.trigger("opened:rm_modal"),n.attr("aria-hidden","false"),n.css("overflowY","auto"),i.settings.afterOpen.apply(n,[n]),n})};i.init=function(){i.settings=n.extend({},o,e);var t=r,a=t.find(o.popup).find(o.close_btn);t.click(function(e){n(e.target).is(t)&&(e.stopPropagation(),s())}),a.click(function(n){s(),n.preventDefault()}),n("body").keydown(function(n){"27"==n.keyCode&&s()})},i.hide=function(){return s()},i.show=function(){return u()},i.init()},n.fn.rm_popup=function(t){return this.each(function(){if(void 0===n(this).data("rm_popup")){var e=new n.Rm_popup(this,t);n(this).data("rm_popup",e)}})}}(jQuery,window);
//# sourceMappingURL=popup.js.map
