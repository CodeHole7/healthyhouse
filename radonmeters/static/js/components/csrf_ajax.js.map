{"version":3,"sources":["components/csrf_ajax.js"],"names":["getCookie","name","cookieValue","document","cookie","split","i","cookies","trim","decodeURIComponent","substring","length","csrftoken","csrfSafeMethod","test","method","$","ajaxSetup","beforeSend","xhr","settings","this","crossDomain","setRequestHeader","data"],"mappings":"aAAA,SAAAA,UAAAC,GACA,IAAAC,EAAA,KACA,GAAAC,SAASH,QAAgB,KAAAG,SAAAC,OAEjBD,IAAAA,IADAD,EAAcC,SAAlBC,OAAAC,MAAA,KACaD,EAAAA,EAATE,EAAmBH,EAASC,OAATE,IAAvB,CACQC,IAAAA,EAAUJ,OAASC,KAATG,EAAsBD,IAEhC,GAAIF,EAAAA,UAAgBI,EAAPP,EAAYM,OAAzB,KAAAN,EAAA,IAAA,CACAC,EAAAO,mBAAAL,EAAAM,UAAAT,EAAAU,OAAA,IACIP,OAIP,OAAAF,EAIT,SAAIU,eAAYZ,GAEhB,MAASa,6BAAuBC,KAAAC,GAJ5B,IAAAH,UAAOV,UAAP,aAMAc,EAAAC,WAAAC,WAAA,SAAAC,EAAAC,GACHC,KAAAC,cACWH,EAAAI,iBAAA,cAAAX,WACIQ,EAAAI,gBAAcJ,UACjBD,EAAKG,iBAAa,eAAA","file":"csrf_ajax.js","sourcesContent":["// https://docs.djangoproject.com/en/dev/ref/csrf/#ajax\n// using jQuery\nfunction getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = jQuery.trim(cookies[i]);\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\nvar csrftoken = getCookie('csrftoken');\n\nfunction csrfSafeMethod(method) {\n    // these HTTP methods do not require CSRF protection\n    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));\n}\n$.ajaxSetup({\n    beforeSend: function(xhr, settings) {\n        if (!this.crossDomain) {\n            xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n            if (!(settings.data instanceof FormData)) {\n                xhr.setRequestHeader(\"Content-Type\", 'application/x-www-form-urlencoded; charset=UTF-8');\n            }\n        }\n    }\n});\n"]}