{"version":3,"sources":["common/footer.js"],"names":["$","$form","$confirmBtn","find","value","valid","removeClass","not","each","this","val","is","_utils","validateEmail","sendRequest","ajax","action","method","url","serialize","data","prop","error","renderMessages","responseJSON","errors","message","success","setTimeout","onsubmit","e","preventDefault","blur","validateForm"],"mappings":"aAAAA,EAAE,SAACA,GAGC,IAAAC,EAAAD,EAAA,mBACAE,EAAAD,EAAAE,KAAA,UACIF,EAAU,WACVC,IAIIE,EAJJF,GAAAA,EAwBC,OArBDD,EAAII,KAAAA,cACAD,YAAJ,aAEAH,EAAME,KAAK,iBACNG,SAAY,UAEjBL,EAAME,KAAK,SAAAI,IAAA,mBAA0BC,KAArC,YAGIJ,EAAQJ,EAAGS,MAAOC,SAAlBN,EAAWD,KAAH,UAARG,YAAA,UACGD,GAAS,GAGXL,EAAAS,MAAAE,GAAA,mBAAAP,IAGOQ,OAAOC,cAAeT,KADxBH,EAAHE,KAAc,YAAdG,YAA2C,UACvCD,GAAQQ,MARnBR,GATJS,EAAA,WA4BId,EAAEe,MADFD,IAAAA,EAAc,GAAAE,OACZD,OAAKd,EAAA,GAAAgB,OACHC,KAAKjB,EAAAkB,YACLF,WAAQhB,WACRmB,EAAYD,KAAN,YAHH,IAKCjB,MAAAA,SAAYmB,GALbnB,EAAAmB,KAAA,YAAA,GAOHC,OAAOC,eAAA,UAAeH,EAAAI,aAAAC,OAAA,QAElBb,QAAAA,SAAOW,GATRX,OAAAW,eAAA,UAAAH,EAAAM,SAWHC,EAASxB,KAAA,SAAAI,IAASa,mBAAMV,IAAA,IACpBE,WAAOW,WACPtB,EAAWoB,KAASd,YAAI,IACxBqB,SAQZ3B,EAAM,GAAG4B,SAAW,SAAUC,GAQzB,OARL7B,EAAM8B,iBACAA,EAAFV,KAAA,cAEInB,EAAW8B,OACX9B,KACI+B,MAGP","file":"footer.js","sourcesContent":["$(($) => {\n    'use strict';\n    ////////////////////////////////////////////////////////////\n    ///    Subscribe form\n    ////////////////////////////////////////////////////////////\n    var $form = $('.subscribe-form');\n    var $confirmBtn = $form.find('button');\n\n    var validateForm = function(){\n        var valid = true;\n        var value;\n\n        $form.find('.has-error')\n            .removeClass('has-error');\n\n        $form.find('.errorlist li').addClass('hidden');\n\n        $form.find('input').not('[type=\"hidden\"]').each(function() {\n            value = $( this ).val();\n            if(!value ) {\n                $form.find('.blank').removeClass('hidden');\n                valid = false;\n            }\n\n            if($( this ).is( '[type=\"email\"]' ) && value) {\n                if(!_utils.validateEmail( value )) {\n                    $form.find('.invalid').removeClass('hidden');\n                    valid = false;\n                }\n            }\n        });\n\n        return valid;\n    };\n\n    var sendRequest = function() {\n        $.ajax({\n            url: $form[0].action,\n            method: $form[0].method,\n            data: $form.serialize(),\n            beforeSend: function() {\n                $confirmBtn.prop('disabled', true);\n            },\n            error: function(data) {\n                $confirmBtn.prop('disabled', false);\n                _utils.renderMessages('warning', data.responseJSON.errors['email']);\n            },\n            success: function(data) {\n                _utils.renderMessages('success', data.message);\n                $form.find('input').not('[type=\"hidden\"]').val('');\n                setTimeout(function() {\n                    $confirmBtn.prop('disabled', false);\n                }, 5000);\n            }\n        });\n    };\n\n\n    $form[0].onsubmit = function (e) {\n        e.preventDefault();\n        var disabled = $confirmBtn.prop('disabled');\n        if (!disabled) {\n            $confirmBtn.blur();\n            if (validateForm()) {\n                sendRequest();\n            }\n        }\n        return false;\n    };\n});\n"]}