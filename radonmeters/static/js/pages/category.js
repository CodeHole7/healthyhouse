"use strict";$(function(r){var o=r("#consultation-form"),e=o.find("button"),n=window._radonOptions.requiredError,i=window._radonOptions.invalidEmailError,a=window._radonOptions.invalidPhoneError,s=r("#consultation-form-popup");s.rm_popup(),s.on("closed:rm_modal",function(){o.find("input").not('[type="hidden"]').val(""),o.find(".has-error").removeClass("has-error").find(".errorlist, .error-block").remove(),o.find(".nonfield").remove()}),r(".open-consultation-popup").click(function(){s.data("rm_popup").show()});var t=function(){var e=!0,s=void 0,t=void 0;return o.find(".has-error").removeClass("has-error").find(".errorlist, .error-block").remove(),o.find(".nonfield").remove(),o.find("input, textarea").not('[type="hidden"]').each(function(){!(s=r(this).val())&&r(this).attr("required")&&(t=r(this).parents(".form-group").addClass("has-error").append(r(n)),e=!1),r(this).is('[name="phone_number_modified"]')&&s&&(r(this).intlTelInput("isValidNumber")||(r(this).parents(".form-group").addClass("has-error").append(r(a)),e=!1)),r(this).is('[type="email"]')&&s&&(_utils.validateEmail(s)||(r(this).parents(".form-group").addClass("has-error").append(r(i)),e=!1))}),e},d=function(e){o.find(".has-error").removeClass("has-error").find(".errorlist, .error-block").remove();for(var n in e)e.hasOwnProperty(n)&&r(void 0).parents(".form-group").addClass("has-error").append('<ul class="errorlist"><li>'+e[n]+"</li></ul>")},l=function(){r.ajax({url:o[0].action,method:o[0].method,data:o.serialize(),beforeSend:function(){e.prop("disabled",!0)},error:function(r){e.prop("disabled",!1),d(r.responseJSON.errors)},success:function(r){s.off("closed:rm_modal").on("closed:rm_modal",function(){_utils.renderMessages("success",r.message),s.off("closed:rm_modal")}),s.data("rm_popup").hide(),o.find("input").not('[type="hidden"]').val(""),setTimeout(function(){e.prop("disabled",!1)},5e3)}})};o[0].onsubmit=function(r){return r.preventDefault(),e.prop("disabled")||(e.blur(),t()&&l()),!1},r(".products-wrapper").each(function(o,e){var n=r(this);setTimeout(function(){n.addClass("show-card")},100*o)}),r(".pagination-container").addClass("show-container")}),function(r){var o=r(".sorting-dropdown"),e=o.find("form"),n=e.find("select");o.find("#sort_selector a").on("click",function(o){o.preventDefault(),r(this).parent().is(".active")||(n.val(r(this).data("value")),e.submit())})}(jQuery);
//# sourceMappingURL=category.js.map
