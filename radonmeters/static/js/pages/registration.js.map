{"version":3,"sources":["pages/registration.js"],"names":["$","requiredError","window","_radonOptions","invalidEmailError","invalidPhoneError","valid","validateForm","$form","find","remove","field","not","value","this","val","attr","is","_utils","validateEmail","addClass","parents","$confirmBtn","formValid","each","preventDefault","disabled","indx","item","submit","onsubmit","e","prop","activeTab","blur","jQuery","tabs","on","removeClass"],"mappings":"cAAA,SAACA,GACC,IAAAC,EAAAC,OAAAC,cAAAF,cAGIG,EAAoBF,OAAOC,cAAcC,kBACzCC,GAFgBH,OAAOC,cAAcF,kBAErCI,SAAAA,GAGF,IAAIC,GAAQ,EADRC,OAAAA,EACAD,OAAAA,EAmDJ,OAjDAE,EAGGC,KAAK,cADRD,YACQ,aAELC,KAAK,cAGRD,SAEAA,EACGC,KAAK,aACDC,SAGHF,EACEG,KAAAA,SAJHC,IAAI,mBASDN,KAAAA,aACDO,EAAAb,EAAAc,MAAAC,QAPaf,EAAEc,MAAME,KAAK,cASvBhB,EAAQiB,EAARH,MACGI,QAAOC,eACRC,SACCC,aAGHf,OAAQN,EAAAC,IAEXK,GAAA,GAGEA,EAAAA,MAAPW,GAAOX,mBAAPO,IAtCFK,OAAAC,cAAAN,KA6BUb,EAAEc,MAYVO,QACCZ,eAGMW,SAAa,aACRL,OAARf,EAAAI,IACDE,GAAA,MAKCgB,IAGJd,EAAAA,kBACEC,KAAIc,SACFX,IAAA,mBACDY,KAFD,WAGIC,EAAAA,MAAAA,KAAF,QACAzB,EAAAc,MAAIY,IAAAA,MAIAH,EAAAA,uBAAYC,KAAZ,SAAAG,EAAAC,GACApB,IAAAA,EAAAA,EAAMqB,GACNP,EAAAA,EAAAb,KAAiB,yBAClBc,GAAA,EAEHf,EAAA,GAAAsB,SAAA,SAAAC,GACD,QAAAR,IAXCQ,EAAEN,iBAeKH,EAAAU,KAAA,cAETC,EAAcC,OACNlB,EAAZR,KAbUe,GAAY,EAedf,EAARqB,SACIJ,EAAFO,KAAA,YAAA,MAGE,MA1FN,IA+FGG,EA/FHnC,EAAA,8BAmFMiC,EAAYjC,EAAE,qCAClBA,EAAEiC,EAAUjB,KAAK,SAASI,SAAS,QAEnCgB,EAAKC,GAAG,QAAS,SAASN,GACxBA,EAAEN,iBACF,IAAIQ,OAAAA,EACJG,EAAKE,YAAY,UACjBtC,EAAE,+BAA+BsC,YAAY,SAC7CL,EAAYjC,EAAEc,OACJM,SAAS,UACnBpB,EAAEiC,EAAUjB,KAAK,SAASI,SAAS,UA7FvC,CA+FGe","file":"registration.js","sourcesContent":["($ => {\n  \"use strict\";\n\n  let requiredError = window._radonOptions.requiredError;\n  let invalidEmailError = window._radonOptions.invalidEmailError;\n  let invalidPhoneError = window._radonOptions.invalidPhoneError;\n\n  const validateForm = $form => {\n    let valid = true;\n    let value;\n    let field;\n\n    $form\n      .find(\".has-error\")\n      .removeClass(\"has-error\")\n      .find(\".errorlist\")\n      .remove();\n\n    $form.find(\".nonfield\").remove();\n\n    $form\n      .find(\"input\")\n      .not('[type=\"hidden\"]')\n      .each(function() {\n        value = $(this).val();\n        if (!value && $(this).attr(\"required\")) {\n          field = $(this)\n            .parents(\".form-group\")\n            .addClass(\"has-error\")\n            .append($(requiredError));\n\n          valid = false;\n        }\n\n        if ($(this).is(`[type=\"email\"]`) && value) {\n          if (!_utils.validateEmail(value)) {\n            $(this)\n              .parents(\".form-group\")\n              .addClass(\"has-error\")\n              .append($(invalidEmailError));\n            valid = false;\n          }\n        }\n      });\n\n    return valid;\n  };\n\n  $(\"#register_form\")\n    .find(\"input\")\n    .not('[type=\"hidden\"]')\n    .each(function() {\n      if (!$(this).attr(\"val\")) {\n        $(this).val(\"\");\n      }\n    });\n\n  $(\".register-page form\").each(function(indx, item) {\n    let $form = $(item);\n    let $confirmBtn = $form.find('button[type=\"submit\"]');\n    let formValid = false;\n\n    $form[0].onsubmit = function(e) {\n      if (formValid) {\n        return true;\n      } else {\n        e.preventDefault();\n        var disabled = $confirmBtn.prop(\"disabled\");\n        if (!disabled) {\n          $confirmBtn.blur();\n          if (validateForm($form)) {\n            formValid = true;\n            $form.submit();\n            $confirmBtn.prop(\"disabled\", true);\n          }\n        }\n        return false;\n      }\n    };\n  });\n\n  let tabs = $(\".login-logout .section-tab\");\n\n  let activeTab = $(\".login-logout .section-tab.active\");\n  $(activeTab.attr(\"href\")).addClass(\"show\");\n\n  tabs.on(\"click\", function(e) {\n    e.preventDefault();\n    let activeTab;\n    tabs.removeClass(\"active\");\n    $(\".login_form, .register_form\").removeClass(\"show\");\n    activeTab = $(this);\n    activeTab.addClass(\"active\");\n    $(activeTab.attr(\"href\")).addClass(\"show\");\n  });\n})(jQuery);\n"]}