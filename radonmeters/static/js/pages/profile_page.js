"use strict";!function(r){var e=window._radonOptions.requiredError,i=window._radonOptions.invalidEmailError,n=window._radonOptions.invalidPhoneError,o=function(o){var s=!0,t=void 0,a=void 0;return o.find(".has-error").removeClass("has-error").find(".errorlist").remove(),o.find(".nonfield").remove(),o.find("input").not('[type="hidden"]').each(function(){!(t=r(this).val())&&r(this).attr("required")&&(a=r(this).parents(".form-group").addClass("has-error").append(r(e)),s=!1),r(this).is('[name="phone_number_modified"]')&&t&&(r(this).intlTelInput("isValidNumber")||(r(this).parents(".form-group").addClass("has-error").append(r(n)),s=!1)),r(this).is('[type="email"]')&&t&&(_utils.validateEmail(t)||(r(this).parents(".form-group").addClass("has-error").append(r(i)),s=!1))}),s},s=function(r,e){e.find(".has-error").removeClass("has-error").find(".errorlist").remove(),e.find(".nonfield").remove();for(var i in r){if(!r.hasOwnProperty(i))return;e.find('[name="'+i+'"]').parents(".form-group").addClass("has-error").append('<ul class="errorlist"><li>'+r[i]+"</li></ul> ")}},t=function(e,i){r.ajax({url:e[0].action,method:e[0].method,data:e.serialize(),beforeSend:function(){i.prop("disabled",!0)},error:function(r){i.prop("disabled",!1),s(r.responseJSON,e)},success:function(r){e.find("input").not('[type="hidden"]').val(""),_utils.renderMessages("success",r.message),setTimeout(function(){i.prop("disabled",!1)},5e3)}})};r("#password_form").find("input").not('[type="hidden"]').each(function(){r(this).attr("val")||r(this).val("")}),r(".profile-page form").each(function(e,i){var n=r(i),s=n.find('button[type="submit"]'),a=!1;n[0].onsubmit=function(r){return!!a||(r.preventDefault(),s.prop("disabled")||(s.blur(),o(n)&&(n.is("#profile_form")?(a=!0,n.submit()):t(n,s),s.prop("disabled",!0))),!1)}})}(jQuery);
//# sourceMappingURL=profile_page.js.map
